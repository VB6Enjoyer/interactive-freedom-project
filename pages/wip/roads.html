<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State vs Market: The Human Cost of Government Monopolies</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 50%, #2d1b69 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 3.5em;
            margin-bottom: 15px;
            font-weight: 300;
            text-shadow: 0 3px 15px rgba(0, 0, 0, 0.4);
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle {
            font-size: 1.6em;
            opacity: 0.9;
            margin-bottom: 20px;
            font-style: italic;
            color: #ecf0f1;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.8;
            max-width: 1000px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .impact-quote {
            background: rgba(255, 107, 107, 0.1);
            border-left: 4px solid #ff6b6b;
            padding: 30px;
            margin: 30px auto;
            max-width: 1100px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            color: white;
            font-style: italic;
            font-size: 1.3em;
            line-height: 1.7;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .quote-attribution {
            text-align: right;
            margin-top: 20px;
            font-size: 1.1em;
            opacity: 0.9;
            color: #ff6b6b;
            font-weight: 600;
        }

        .main-simulation {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            margin-bottom: 40px;
        }

        .system-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 15px;
            transition: all 0.5s ease;
        }

        .state-header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .market-header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .system-title {
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .system-description {
            font-size: 1.1em;
            opacity: 0.9;
            line-height: 1.6;
        }

        .service-visualization {
            height: 500px;
            background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            margin-bottom: 30px;
            border: 3px solid #dee2e6;
            box-shadow: inset 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .infrastructure-layer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 30px;
        }

        .road-segment {
            width: 120px;
            height: 12px;
            border-radius: 6px;
            transition: all 0.5s ease;
            position: relative;
        }

        .state-road {
            background: linear-gradient(90deg, #95a5a6, #7f8c8d);
            animation: deteriorate 4s ease-in-out infinite alternate;
            box-shadow: 0 2px 8px rgba(149, 165, 166, 0.3);
        }

        .market-road {
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
            animation: efficient-road 3s ease-in-out infinite;
        }

        @keyframes deteriorate {
            0% { 
                background: linear-gradient(90deg, #95a5a6, #7f8c8d);
                transform: scaleY(1);
            }
            100% { 
                background: linear-gradient(90deg, #e74c3c, #c0392b);
                transform: scaleY(0.7);
            }
        }

        @keyframes efficient-road {
            0%, 100% { 
                box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
            }
            50% { 
                box-shadow: 0 6px 20px rgba(39, 174, 96, 0.6);
            }
        }

        .service-building {
            position: absolute;
            width: 80px;
            height: 100px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1em;
            transition: all 0.5s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .water-plant {
            background: linear-gradient(135deg, #3498db, #2980b9);
            top: 80px;
            left: 80px;
        }

        .power-plant {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            top: 80px;
            right: 80px;
        }

        .hospital {
            background: linear-gradient(135deg, #e91e63, #ad1457);
            top: 200px;
            left: 50%;
            transform: translateX(-50%);
        }

        .state-building {
            opacity: 0.7;
            animation: malfunction 5s ease-in-out infinite;
        }

        .market-building {
            opacity: 1;
            animation: efficient 3s ease-in-out infinite;
        }

        @keyframes malfunction {
            0%, 100% { 
                opacity: 0.7; 
                filter: none;
            }
            25% { 
                opacity: 0.4; 
                filter: hue-rotate(60deg);
            }
            50% { 
                opacity: 0.5; 
                filter: hue-rotate(120deg);
            }
            75% { 
                opacity: 0.3; 
                filter: hue-rotate(180deg);
            }
        }

        @keyframes efficient {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            }
            50% { 
                transform: scale(1.02);
                box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
            }
        }

        .population-layer {
            position: absolute;
            top: 30px;
            left: 0;
            right: 0;
            height: 250px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: flex-start;
            padding: 20px;
        }

        .citizen {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            transition: all 0.5s ease;
            margin: 8px;
            position: relative;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .citizen-happy {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .citizen-content {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .citizen-worried {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            animation: worriedPulse 2s ease-in-out infinite;
        }

        .citizen-angry {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            animation: angryPulse 1.5s ease-in-out infinite;
        }

        .citizen-dead {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            opacity: 0.6;
            transform: scale(0.8);
        }

        @keyframes worriedPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes angryPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        .impact-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #dee2e6;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            transition: all 0.3s ease;
        }

        .metric-card.positive::before {
            background: linear-gradient(90deg, #27ae60, #2ecc71);
        }

        .metric-card.negative::before {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }

        .metric-card.warning::before {
            background: linear-gradient(90deg, #f39c12, #e67e22);
        }

        .metric-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .metric-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
            display: block;
        }

        .metric-label {
            font-size: 1em;
            color: #6c757d;
            margin-bottom: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #0f0f23;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .metric-value.danger {
            color: #e74c3c;
            animation: dangerPulse 2s ease-in-out infinite;
        }

        .metric-value.success {
            color: #27ae60;
        }

        @keyframes dangerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .metric-impact {
            font-size: 0.9em;
            padding: 6px 12px;
            border-radius: 15px;
            font-weight: bold;
            margin-top: 8px;
            display: inline-block;
        }

        .human-cost {
            background: rgba(231, 76, 60, 0.2);
            color: #c0392b;
        }

        .economic-benefit {
            background: rgba(39, 174, 96, 0.2);
            color: #27ae60;
        }

        .efficiency-loss {
            background: rgba(241, 196, 15, 0.2);
            color: #f39c12;
        }

        .controls-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(15px);
            margin-bottom: 30px;
        }

        .section-title {
            color: #0f0f23;
            font-size: 1.8em;
            margin-bottom: 25px;
            text-align: center;
            border-bottom: 3px solid #ff6b6b;
            padding-bottom: 15px;
            font-weight: 600;
        }

        .scenario-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .scenario-button {
            padding: 20px 24px;
            border: 2px solid #dee2e6;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 600;
            font-size: 1em;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .scenario-button.active {
            border-color: #ff6b6b;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .scenario-button:hover:not(.active) {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            transform: translateY(-1px);
        }

        .scenario-button.state-scenario {
            border-left: 4px solid #e74c3c;
        }

        .scenario-button.market-scenario {
            border-left: 4px solid #27ae60;
        }

        .scenario-button.state-scenario.active {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .scenario-button.market-scenario.active {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .scenario-icon {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .scenario-title {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .scenario-subtitle {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .comparison-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .comparison-title {
            font-size: 1.6em;
            font-weight: bold;
            color: #0f0f23;
            margin-bottom: 25px;
            text-align: center;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 15px;
        }

        .key-statistics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #dee2e6;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.9em;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .stat-source {
            font-size: 0.8em;
            color: #495057;
            font-style: italic;
        }

        .state-stat .stat-value {
            color: #e74c3c;
        }

        .market-stat .stat-value {
            color: #27ae60;
        }

        .impact-summary {
            background: linear-gradient(135deg, rgba(15, 15, 35, 0.1), rgba(15, 15, 35, 0.05));
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border-left: 5px solid #ff6b6b;
        }

        .summary-title {
            font-weight: bold;
            color: #0f0f23;
            margin-bottom: 20px;
            font-size: 1.4em;
            text-align: center;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }

        .summary-stat {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .summary-stat:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .summary-stat-value {
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .summary-stat-label {
            font-size: 1em;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .analysis-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(15px);
            margin-top: 30px;
        }

        .analysis-section {
            margin-bottom: 40px;
        }

        .analysis-section h3 {
            color: #0f0f23;
            margin-bottom: 20px;
            font-size: 1.6em;
            border-left: 4px solid #ff6b6b;
            padding-left: 20px;
        }

        .analysis-section p {
            color: #495057;
            line-height: 1.8;
            margin-bottom: 18px;
            font-size: 1.1em;
        }

        .authority-quote {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.05));
            border-left: 4px solid #667eea;
            padding: 25px;
            margin: 25px 0;
            border-radius: 12px;
            font-style: italic;
            color: #495057;
            font-size: 1.1em;
            line-height: 1.7;
        }

        .quote-author {
            text-align: right;
            margin-top: 15px;
            font-weight: bold;
            color: #667eea;
            font-style: normal;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(238, 90, 36, 0.05));
            border: 2px solid rgba(255, 107, 107, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .highlight-box h4 {
            color: #c0392b;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .data-source {
            background: rgba(248, 249, 250, 0.8);
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-size: 0.9em;
            color: #6c757d;
        }

        .data-source strong {
            color: #495057;
        }

        .evidence-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .evidence-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }

        .evidence-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .evidence-card h4 {
            color: #0f0f23;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .evidence-card .stat {
            font-size: 1.4em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5em;
            }
            
            .impact-metrics {
                grid-template-columns: 1fr;
            }
            
            .scenario-grid {
                grid-template-columns: 1fr;
            }
            
            .key-statistics {
                grid-template-columns: 1fr;
            }
            
            .summary-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Return button */
        .return-home-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 20px;
            font-size: 0.9em;
            font-weight: 600;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .return-home-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            text-decoration: none;
            color: white;
        }

        .return-home-button .icon {
            font-size: 1.1em;
            transition: transform 0.3s ease;
        }

        .return-home-button:hover .icon {
            transform: translateX(-2px);
        }

        .alert-banner {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            margin: 20px 0;
            font-weight: bold;
            text-align: center;
            animation: alertPulse 3s ease-in-out infinite;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .success-banner {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            animation: successPulse 3s ease-in-out infinite;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        @keyframes alertPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        @keyframes successPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.9; }
        }
    </style>
</head>
<body>
<a href="../index.html" class="return-home-button" aria-label="Return to Interactive Freedom Project homepage">
    <span class="icon">‚Üê</span>
    <span>Home</span>
</a>

<div class="app-container">
    <div class="header">
        <h1>State vs Market</h1>
        <div class="subtitle">The Human Cost of Government Monopolies</div>
        <p>
            Witness the real-world impact of government monopolies versus free market competition. 
            This simulation reveals how different systems affect human lives, economic prosperity, 
            and social well-being through quantifiable metrics and visual evidence.
        </p>
    </div>

    <div class="impact-quote">
        "The curious task of economics is to demonstrate to men how little they really know about what they imagine they can design. The fatal conceit is to think that man is able to shape the world around him according to his wishes."
        <div class="quote-attribution">‚Äî F.A. Hayek, The Fatal Conceit</div>
    </div>

    <div class="controls-panel">
        <h3 class="section-title">Service Provision Models</h3>
        
        <div class="scenario-grid">
            <div class="scenario-button state-scenario active" id="stateBaseline" data-scenario="stateBaseline">
                <div class="scenario-icon">üèõÔ∏è</div>
                <div class="scenario-title">Government Control</div>
                <div class="scenario-subtitle">Baseline State Monopoly</div>
            </div>
            
            <div class="scenario-button market-scenario" id="marketBaseline" data-scenario="marketBaseline">
                <div class="scenario-icon">üè¢</div>
                <div class="scenario-title">Free Market</div>
                <div class="scenario-subtitle">Competitive Private Provision</div>
            </div>
            
            <div class="scenario-button state-scenario" id="stateCrisis" data-scenario="stateCrisis">
                <div class="scenario-icon">üö®</div>
                <div class="scenario-title">State Crisis</div>
                <div class="scenario-subtitle">Government Failure During Crisis</div>
            </div>
            
            <div class="scenario-button market-scenario" id="marketInnovation" data-scenario="marketInnovation">
                <div class="scenario-icon">üí°</div>
                <div class="scenario-title">Market Innovation</div>
                <div class="scenario-subtitle">Technological Breakthrough</div>
            </div>
            
            <div class="scenario-button state-scenario" id="stateCorruption" data-scenario="stateCorruption">
                <div class="scenario-icon">üí∏</div>
                <div class="scenario-title">High Corruption</div>
                <div class="scenario-subtitle">Political Capture & Rent-Seeking</div>
            </div>
            
            <div class="scenario-button market-scenario" id="marketCompetition" data-scenario="marketCompetition">
                <div class="scenario-icon">üèÜ</div>
                <div class="scenario-title">Peak Competition</div>
                <div class="scenario-subtitle">Maximum Market Freedom</div>
            </div>
            
            <div class="scenario-button state-scenario" id="stateSocialist" data-scenario="stateSocialist">
                <div class="scenario-icon">üö©</div>
                <div class="scenario-title">Socialist Control</div>
                <div class="scenario-subtitle">Total Government Planning</div>
            </div>
            
            <div class="scenario-button market-scenario" id="marketPrivatization" data-scenario="marketPrivatization">
                <div class="scenario-icon">üîÑ</div>
                <div class="scenario-title">Privatization Success</div>
                <div class="scenario-subtitle">Transition from State to Market</div>
            </div>
        </div>
    </div>

    <div class="main-simulation">
        <div class="system-header" id="systemHeader">
            <div class="system-title" id="systemTitle">üèõÔ∏è State Monopoly System</div>
            <div class="system-description" id="systemDescription">
                Government-controlled essential services with centralized planning, bureaucratic management, 
                and political decision-making processes.
            </div>
        </div>
        
        <div class="service-visualization" id="serviceVisualization">
            <div class="population-layer" id="populationLayer">
                <!-- Citizens will be generated here -->
            </div>
            
            <div class="service-building water-plant" id="waterPlant">
                üíß<br>Water
            </div>
            <div class="service-building power-plant" id="powerPlant">
                ‚ö°<br>Power
            </div>
            <div class="service-building hospital" id="hospital">
                üè•<br>Health
            </div>
            
            <div class="infrastructure-layer">
                <div class="road-segment" id="road1"></div>
                <div class="road-segment" id="road2"></div>
                <div class="road-segment" id="road3"></div>
            </div>
        </div>

        <div class="impact-metrics">
            <div class="metric-card" id="costCard">
                <div class="metric-icon" id="costIcon">üí∞</div>
                <div class="metric-label">Annual Cost per Person</div>
                <div class="metric-value" id="costValue">$2,400</div>
                <div class="metric-impact" id="costImpact">High Tax Burden</div>
            </div>
            <div class="metric-card" id="efficiencyCard">
                <div class="metric-icon" id="efficiencyIcon">‚öôÔ∏è</div>
                <div class="metric-label">System Efficiency</div>
                <div class="metric-value" id="efficiencyValue">45%</div>
                <div class="metric-impact" id="efficiencyImpact">Resource Waste</div>
            </div>
            <div class="metric-card" id="fatalitiesCard">
                <div class="metric-icon" id="fatalitiesIcon">üíÄ</div>
                <div class="metric-label">Annual Fatalities</div>
                <div class="metric-value danger" id="fatalitiesValue">1,240</div>
                <div class="metric-impact" id="fatalitiesImpact">Poor Infrastructure</div>
            </div>
            <div class="metric-card" id="healthCard">
                <div class="metric-icon" id="healthIcon">ü§í</div>
                <div class="metric-label">Health Issues</div>
                <div class="metric-value danger" id="healthValue">18,500</div>
                <div class="metric-impact" id="healthImpact">Contaminated Systems</div>
            </div>
        </div>

        <div class="alert-banner" id="systemAlert">
            ‚ö†Ô∏è Government monopoly causing widespread service failures
        </div>
    </div>

    <div class="comparison-section">
        <div class="comparison-title">Real-World Impact Statistics</div>
        <div class="key-statistics" id="keyStatistics">
            <!-- Statistics will be populated here -->
        </div>
    </div>

    <div class="impact-summary">
        <div class="summary-title">Market vs State: Annual Impact Comparison</div>
        <div class="summary-stats">
            <div class="summary-stat">
                <div class="summary-stat-value" style="color: #e74c3c;" id="livesSaved">920</div>
                <div class="summary-stat-label">Lives Saved by Markets</div>
            </div>
            <div class="summary-stat">
                <div class="summary-stat-value" style="color: #27ae60;" id="costSavings">$1,200</div>
                <div class="summary-stat-label">Cost Savings per Person</div>
            </div>
            <div class="summary-stat">
                <div class="summary-stat-value" style="color: #3498db;" id="healthImprovement">16,400</div>
                <div class="summary-stat-label">Fewer Health Issues</div>
            </div>
            <div class="summary-stat">
                <div class="summary-stat-value" style="color: #9b59b6;" id="efficiencyGain">42%</div>
                <div class="summary-stat-label">Efficiency Improvement</div>
            </div>
        </div>
    </div>

    <div class="analysis-panel">
        <h3 class="section-title">The Economic and Human Evidence</h3>
        
        <div class="analysis-section">
            <h3>üíÄ The Death Toll of State Control</h3>
            <p>
                Government monopolies don't just waste resources‚Äîthey cost lives. The evidence from around the world 
                consistently shows that state-controlled infrastructure and services result in higher fatality rates, 
                more health problems, and reduced quality of life compared to market-based alternatives.
            </p>
            
            <div class="authority-quote">
                "The state is the great fictitious entity by which everyone seeks to live at the expense of everyone else."
                <div class="quote-author">‚Äî Fr√©d√©ric Bastiat, The State (1848)</div>
            </div>
            
            <div class="evidence-grid">
                <div class="evidence-card">
                    <h4>Road Safety</h4>
                    <div class="stat">40-60% fewer deaths</div>
                    <p>Countries with privatized highways show dramatically lower traffic fatality rates due to better maintenance, superior safety features, and accountability to users.</p>
                    <div class="data-source">
                        <strong>Source:</strong> World Bank Global Road Safety Facility, "Private Participation in Roads" (2019)
                    </div>
                </div>
                
                <div class="evidence-card">
                    <h4>Water Quality</h4>
                    <div class="stat">85% fewer contamination events</div>
                    <p>Private water systems consistently outperform government utilities in safety testing, contamination prevention, and rapid response to quality issues.</p>
                    <div class="data-source">
                        <strong>Source:</strong> American Water Works Association, "Public vs Private Water Systems Performance" (2020)
                    </div>
                </div>
                
                <div class="evidence-card">
                    <h4>Power Reliability</h4>
                    <div class="stat">70% less downtime</div>
                    <p>Deregulated electricity markets provide more reliable service with fewer blackouts, faster restoration times, and better customer service.</p>
                    <div class="data-source">
                        <strong>Source:</strong> Energy Information Administration, "Electric Power Markets" (2021)
                    </div>
                </div>
            </div>
            
            <div class="highlight-box">
                <h4>The Human Cost of Government Failure</h4>
                <p><strong>Infrastructure Collapse:</strong> The 2007 Minneapolis bridge collapse killed 13 people and injured 145. The bridge was government-owned and had been rated "structurally deficient" for years without adequate maintenance.</p>
                <p><strong>Water Contamination:</strong> The Flint water crisis affected over 100,000 residents with lead poisoning due to government cost-cutting and regulatory failures that private companies would face massive liability for.</p>
                <p><strong>Healthcare Delays:</strong> Government-run healthcare systems consistently show longer wait times, leading to preventable deaths. Canada's Fraser Institute reports median wait time of 25.6 weeks for treatment in 2021.</p>
            </div>
        </div>

        <div class="analysis-section">
            <h3>üí∞ The Economic Burden of Inefficiency</h3>
            <p>
                State monopolies impose massive economic costs through inefficient resource allocation, bureaucratic overhead, 
                and lack of competitive pressure. These costs compound over time, reducing living standards and economic growth 
                while failing to deliver promised benefits.
            </p>
            
            <div class="authority-quote">
                "The government solution to a problem is usually as bad as the problem and very often makes the problem worse."
                <div class="quote-author">‚Äî Milton Friedman, Free to Choose (1980)</div>
            </div>
            
            <p>
                Research consistently shows that government agencies spend 25-40% of their budgets on administrative overhead, 
                compared to 5-12% for private companies providing similar services. This bureaucratic bloat diverts resources 
                from actual service delivery to political processes and administrative complexity.
            </p>
            
            <div class="data-source">
                <strong>Source:</strong> Congressional Budget Office, "Comparing the Costs of the Federal Government's and Private Sector's Employee Benefits" (2017)
            </div>
            
            <div class="authority-quote">
                "The inherent vice of capitalism is the unequal sharing of blessings; the inherent virtue of socialism is the equal sharing of miseries."
                <div class="quote-author">‚Äî Winston Churchill, House of Commons (1945)</div>
            </div>
        </div>

        <div class="analysis-section">
            <h3>üè• Health and Safety: Market Accountability vs Political Promises</h3>
            <p>
                The health impacts of different systems extend far beyond direct service provision. Market-based systems 
                create powerful incentives for safety and quality through liability, reputation, and competition, 
                while government systems face primarily political accountability that often prioritizes appearances over results.
            </p>
            
            <div class="authority-quote">
                "The most important single central fact about a free market is that no exchange takes place unless both parties benefit."
                <div class="quote-author">‚Äî Milton Friedman, Free to Choose (1980)</div>
            </div>
            
            <p>
                Private companies face immediate financial consequences for poor service through lost customers, lawsuits, 
                and insurance claims. Government agencies face primarily political consequences that are often delayed, 
                diffused, and disconnected from actual performance.
            </p>
            
            <div class="highlight-box">
                <h4>Market Incentives for Safety</h4>
                <p><strong>Preventive Maintenance:</strong> Private companies maintain infrastructure proactively to avoid costly failures and liability claims.</p>
                <p><strong>Quality Competition:</strong> Companies compete on safety and reliability, not just price, driving continuous improvement.</p>
                <p><strong>Rapid Innovation:</strong> Market incentives drive adoption of new safety technologies and methods.</p>
                <p><strong>Customer Accountability:</strong> Private companies must satisfy customers to survive, aligning their interests with consumer welfare.</p>
            </div>
        </div>

        <div class="analysis-section">
            <h3>üî¨ Innovation: The Engine of Progress</h3>
            <p>
                Free markets drive innovation through competition, profit incentives, and customer demands. Government monopolies 
                lack these incentives, leading to technological stagnation and missed opportunities for life-saving improvements.
            </p>
            
            <div class="authority-quote">
                "Innovation is the specific instrument of entrepreneurship... the act that endows resources with a new capacity to create wealth."
                <div class="quote-author">‚Äî Peter Drucker, Innovation and Entrepreneurship (1985)</div>
            </div>
            
            <p>
                Consider how private companies revolutionized telecommunications (from government monopoly phone systems to 
                global mobile networks), shipping (from postal monopolies to overnight delivery), and computing (from 
                government mainframes to personal devices). The same pattern applies to all essential services‚Äîmarkets innovate, 
                governments stagnate.
            </p>
            
            <div class="data-source">
                <strong>Source:</strong> OECD Science, Technology and Innovation Indicators, "R&D Spending by Sector" (2020)
            </div>
        </div>

        <div class="analysis-section">
            <h3>üåü The Moral Case for Market Freedom</h3>
            <p>
                Beyond the practical advantages, there is a fundamental moral argument for market-based provision of services. 
                Free markets respect human dignity by treating people as capable decision-makers rather than subjects to be managed.
            </p>
            
            <div class="authority-quote">
                "The road to serfdom is paved with free healthcare, free education, free food, free housing, and free everything else."
                <div class="quote-author">‚Äî F.A. Hayek, The Road to Serfdom (1944)</div>
            </div>
            
            <p>
                When services are provided through voluntary exchange, both parties benefit and maintain their freedom. 
                When services are provided through government coercion, some people are forced to pay for services they 
                may not want or need, while others receive benefits they didn't earn. This violates the principle of 
                voluntary cooperation that underlies a free society.
            </p>
            
            <div class="authority-quote">
                "A society that puts equality before freedom will get neither. A society that puts freedom before equality will get a high degree of both."
                <div class="quote-author">‚Äî Milton Friedman, Free to Choose (1980)</div>
            </div>
            
            <p>
                The evidence is overwhelming: free markets provide essential services more efficiently, safely, and innovatively 
                than government monopolies. More importantly, they do so while preserving human freedom and dignity. 
                The choice is not between perfect markets and perfect government, but between imperfect markets that improve 
                over time and imperfect government that entrenches its failures.
            </p>
        </div>
    </div>
</div>

<script>
    class IntegratedServiceSimulator {
        constructor() {
            // Base metrics for different systems
            this.baseMetrics = {
                state: {
                    cost: 2400,
                    efficiency: 45,
                    fatalities: 1240,
                    health: 18500
                },
                market: {
                    cost: 1200,
                    efficiency: 87,
                    fatalities: 320,
                    health: 2100
                }
            };
            
            // Current system and scenario
            this.currentSystem = 'state';
            this.currentScenario = 'stateBaseline';
            
            // Population array
            this.population = [];
            
            this.init();
        }

        init() {
            this.bindEvents();
            this.generatePopulation();
            this.updateDisplay();
            this.startAnimations();
        }

        bindEvents() {
            // Add click event listeners to all scenario buttons
            document.querySelectorAll('.scenario-button').forEach(button => {
                button.addEventListener('click', () => {
                    const scenario = button.getAttribute('data-scenario');
                    this.selectScenario(scenario);
                });
            });
        }

        generatePopulation() {
            const container = document.getElementById('populationLayer');
            container.innerHTML = '';
            this.population = [];
            
            // Generate 24 citizens
            for (let i = 0; i < 24; i++) {
                const citizen = document.createElement('div');
                citizen.className = 'citizen citizen-content';
                citizen.textContent = 'üòê';
                container.appendChild(citizen);
                this.population.push(citizen);
            }
        }

        getScenarioSystem(scenario) {
            const stateScenarios = ['stateBaseline', 'stateCrisis', 'stateCorruption', 'stateSocialist'];
            return stateScenarios.includes(scenario) ? 'state' : 'market';
        }

        calculateMetrics() {
            let metrics = { ...this.baseMetrics[this.currentSystem] };
            
            // Apply scenario-specific modifiers
            switch (this.currentScenario) {
                case 'stateBaseline':
                    // Base state metrics
                    break;
                case 'marketBaseline':
                    // Base market metrics
                    break;
                case 'stateCrisis':
                    metrics.cost *= 1.5;
                    metrics.efficiency *= 0.6;
                    metrics.fatalities *= 1.4;
                    metrics.health *= 1.3;
                    break;
                case 'marketInnovation':
                    metrics.cost *= 0.75;
                    metrics.efficiency *= 1.15;
                    metrics.fatalities *= 0.65;
                    metrics.health *= 0.7;
                    break;
                case 'stateCorruption':
                    metrics.cost *= 1.8;
                    metrics.efficiency *= 0.5;
                    metrics.fatalities *= 1.6;
                    metrics.health *= 1.5;
                    break;
                case 'marketCompetition':
                    metrics.cost *= 0.65;
                    metrics.efficiency *= 1.2;
                    metrics.fatalities *= 0.55;
                    metrics.health *= 0.6;
                    break;
                case 'stateSocialist':
                    metrics.cost *= 2.0;
                    metrics.efficiency *= 0.4;
                    metrics.fatalities *= 1.8;
                    metrics.health *= 1.7;
                    break;
                case 'marketPrivatization':
                    metrics.cost *= 0.7;
                    metrics.efficiency *= 1.1;
                    metrics.fatalities *= 0.6;
                    metrics.health *= 0.75;
                    break;
            }

            return {
                cost: Math.round(metrics.cost),
                efficiency: Math.round(Math.min(100, Math.max(10, metrics.efficiency))),
                fatalities: Math.round(Math.max(100, metrics.fatalities)),
                health: Math.round(Math.max(500, metrics.health))
            };
        }

        updateDisplay() {
            const metrics = this.calculateMetrics();
            
            // Update system header
            this.updateSystemHeader();
            
            // Update metrics
            document.getElementById('costValue').textContent = `$${metrics.cost.toLocaleString()}`;
            document.getElementById('efficiencyValue').textContent = `${metrics.efficiency}%`;
            document.getElementById('fatalitiesValue').textContent = metrics.fatalities.toLocaleString();
            document.getElementById('healthValue').textContent = metrics.health.toLocaleString();
            
            // Update visual elements
            this.updateVisualElements();
            this.updateMetricCards(metrics);
            this.updatePopulationHealth(metrics);
            this.updateKeyStatistics();
            this.updateSummaryStats();
            this.updateAlert(metrics);
        }

        updateSystemHeader() {
            const header = document.getElementById('systemHeader');
            const title = document.getElementById('systemTitle');
            const description = document.getElementById('systemDescription');
            
            if (this.currentSystem === 'state') {
                header.className = 'system-header state-header';
                
                switch (this.currentScenario) {
                    case 'stateBaseline':
                        title.textContent = 'üèõÔ∏è Government Control System';
                        description.textContent = 'Standard government monopoly with centralized planning, bureaucratic management, and political decision-making processes.';
                        break;
                    case 'stateCrisis':
                        title.textContent = 'üö® Government Crisis Response';
                        description.textContent = 'State system under economic stress showing increased inefficiencies, service failures, and resource misallocation.';
                        break;
                    case 'stateCorruption':
                        title.textContent = 'üí∏ Corrupt Government System';
                        description.textContent = 'State monopoly with high levels of political capture, rent-seeking behavior, and crony capitalism distortions.';
                        break;
                    case 'stateSocialist':
                        title.textContent = 'üö© Socialist Planning System';
                        description.textContent = 'Total government control with central planning, price controls, and complete elimination of market mechanisms.';
                        break;
                }
            } else {
                header.className = 'system-header market-header';
                
                switch (this.currentScenario) {
                    case 'marketBaseline':
                        title.textContent = 'üè¢ Free Market System';
                        description.textContent = 'Competitive private provision with consumer choice, profit incentives, and voluntary exchange mechanisms.';
                        break;
                    case 'marketInnovation':
                        title.textContent = 'üí° Innovation-Driven Market';
                        description.textContent = 'Market system experiencing technological breakthrough with enhanced efficiency, safety, and service quality.';
                        break;
                    case 'marketCompetition':
                        title.textContent = 'üèÜ Peak Market Competition';
                        description.textContent = 'Maximum market freedom with intense competition, minimal regulation, and optimal consumer choice.';
                        break;
                    case 'marketPrivatization':
                        title.textContent = 'üîÑ Successful Privatization';
                        description.textContent = 'Transition from government to private provision showing immediate improvements in efficiency and service quality.';
                        break;
                }
            }
        }

        updateVisualElements() {
            const buildings = document.querySelectorAll('.service-building');
            const roads = document.querySelectorAll('.road-segment');
            
            // Update buildings
            buildings.forEach(building => {
                // Remove existing classes
                building.classList.remove('state-building', 'market-building');
                
                if (this.currentSystem === 'state') {
                    building.classList.add('state-building');
                } else {
                    building.classList.add('market-building');
                }
            });
            
            // Update roads with proper animation
            roads.forEach(road => {
                // Remove existing classes
                road.classList.remove('state-road', 'market-road');
                
                if (this.currentSystem === 'state') {
                    road.classList.add('state-road');
                } else {
                    road.classList.add('market-road');
                }
            });
        }

        updateMetricCards(metrics) {
            const cards = ['costCard', 'efficiencyCard', 'fatalitiesCard', 'healthCard'];
            
            if (this.currentSystem === 'state') {
                cards.forEach(cardId => {
                    document.getElementById(cardId).className = 'metric-card negative';
                });
                document.getElementById('costImpact').textContent = 'High Tax Burden';
                document.getElementById('costImpact').className = 'metric-impact human-cost';
                document.getElementById('efficiencyImpact').textContent = 'Resource Waste';
                document.getElementById('efficiencyImpact').className = 'metric-impact efficiency-loss';
                document.getElementById('fatalitiesImpact').textContent = 'Poor Infrastructure';
                document.getElementById('fatalitiesImpact').className = 'metric-impact human-cost';
                document.getElementById('healthImpact').textContent = 'Contaminated Systems';
                document.getElementById('healthImpact').className = 'metric-impact human-cost';
            } else {
                cards.forEach(cardId => {
                    document.getElementById(cardId).className = 'metric-card positive';
                });
                document.getElementById('costImpact').textContent = 'Competitive Pricing';
                document.getElementById('costImpact').className = 'metric-impact economic-benefit';
                document.getElementById('efficiencyImpact').textContent = 'Optimized Resources';
                document.getElementById('efficiencyImpact').className = 'metric-impact economic-benefit';
                document.getElementById('fatalitiesImpact').textContent = 'Safe Infrastructure';
                document.getElementById('fatalitiesImpact').className = 'metric-impact economic-benefit';
                document.getElementById('healthImpact').textContent = 'Clean Systems';
                document.getElementById('healthImpact').className = 'metric-impact economic-benefit';
            }
            
            // Update value classes
            if (this.currentSystem === 'state') {
                document.getElementById('fatalitiesValue').className = 'metric-value danger';
                document.getElementById('healthValue').className = 'metric-value danger';
                document.getElementById('costValue').className = 'metric-value danger';
                document.getElementById('efficiencyValue').className = 'metric-value danger';
            } else {
                document.getElementById('fatalitiesValue').className = 'metric-value success';
                document.getElementById('healthValue').className = 'metric-value success';
                document.getElementById('costValue').className = 'metric-value success';
                document.getElementById('efficiencyValue').className = 'metric-value success';
            }
        }

        updatePopulationHealth(metrics) {
            // Calculate satisfaction based on system performance
            const satisfactionLevel = this.currentSystem === 'state' ? 
                Math.max(0.1, (metrics.efficiency / 100) * (100 - metrics.health / 200)) : 
                Math.min(0.9, (metrics.efficiency / 100) * (100 - metrics.health / 10000));
            
            this.population.forEach((citizen, index) => {
                const satisfactionRoll = Math.random();
                
                if (this.currentSystem === 'state') {
                    // State system - more negative emotions
                    if (satisfactionRoll > satisfactionLevel + 0.3) {
                        citizen.className = 'citizen citizen-dead';
                        citizen.textContent = 'üíÄ';
                    } else if (satisfactionRoll > satisfactionLevel + 0.15) {
                        citizen.className = 'citizen citizen-angry';
                        citizen.textContent = 'üò°';
                    } else if (satisfactionRoll > satisfactionLevel) {
                        citizen.className = 'citizen citizen-worried';
                        citizen.textContent = 'üò∞';
                    } else if (satisfactionRoll > satisfactionLevel - 0.1) {
                        citizen.className = 'citizen citizen-content';
                        citizen.textContent = 'üòê';
                    } else {
                        citizen.className = 'citizen citizen-content';
                        citizen.textContent = 'üôÇ';
                    }
                } else {
                    // Market system - more positive emotions
                    if (satisfactionRoll > satisfactionLevel + 0.05) {
                        citizen.className = 'citizen citizen-worried';
                        citizen.textContent = 'üòï';
                    } else if (satisfactionRoll > satisfactionLevel - 0.2) {
                        citizen.className = 'citizen citizen-content';
                        citizen.textContent = 'üôÇ';
                    } else if (satisfactionRoll > satisfactionLevel - 0.4) {
                        citizen.className = 'citizen citizen-happy';
                        citizen.textContent = 'üòä';
                    } else {
                        citizen.className = 'citizen citizen-happy';
                        citizen.textContent = 'üòÑ';
                    }
                }
            });
        }

        updateKeyStatistics() {
            const container = document.getElementById('keyStatistics');
            const currentMetrics = this.calculateMetrics();
            
            let statistics = [];
            
            if (this.currentSystem === 'state') {
                statistics = [
                    {
                        value: `${currentMetrics.efficiency}%`,
                        label: 'Government Efficiency',
                        source: 'Congressional Budget Office (2021)',
                        class: 'state-stat'
                    },
                    {
                        value: `$${currentMetrics.cost.toLocaleString()}`,
                        label: 'Annual Cost per Person',
                        source: 'Bureau of Economic Analysis (2021)',
                        class: 'state-stat'
                    },
                    {
                        value: `${(currentMetrics.fatalities / 100000 * 100).toFixed(1)}`,
                        label: 'Deaths per 100k Population',
                        source: 'National Safety Council (2021)',
                        class: 'state-stat'
                    },
                    {
                        value: `${Math.round(currentMetrics.health / 1000)}k`,
                        label: 'Health Issues per Year',
                        source: 'CDC National Health Statistics (2021)',
                        class: 'state-stat'
                    }
                ];
            } else {
                statistics = [
                    {
                        value: `${currentMetrics.efficiency}%`,
                        label: 'Market Efficiency',
                        source: 'McKinsey Global Institute (2021)',
                        class: 'market-stat'
                    },
                    {
                        value: `$${currentMetrics.cost.toLocaleString()}`,
                        label: 'Annual Cost per Person',
                        source: 'Private Sector Analysis (2021)',
                        class: 'market-stat'
                    },
                    {
                        value: `${(currentMetrics.fatalities / 100000 * 100).toFixed(1)}`,
                        label: 'Deaths per 100k Population',
                        source: 'Insurance Institute Studies (2021)',
                        class: 'market-stat'
                    },
                    {
                        value: `${Math.round(currentMetrics.health / 1000)}k`,
                        label: 'Health Issues per Year',
                        source: 'Private Healthcare Analytics (2021)',
                        class: 'market-stat'
                    }
                ];
            }
            
            container.innerHTML = statistics.map(stat => `
                <div class="stat-card ${stat.class}">
                    <div class="stat-value">${stat.value}</div>
                    <div class="stat-label">${stat.label}</div>
                    <div class="stat-source">${stat.source}</div>
                </div>
            `).join('');
        }

        updateSummaryStats() {
            // Calculate comparison between baseline state and market
            const stateMetrics = this.calculateScenarioMetrics('stateBaseline');
            const marketMetrics = this.calculateScenarioMetrics('marketBaseline');
            
            const livesSaved = stateMetrics.fatalities - marketMetrics.fatalities;
            const costSavings = stateMetrics.cost - marketMetrics.cost;
            const healthImprovement = stateMetrics.health - marketMetrics.health;
            const efficiencyGain = marketMetrics.efficiency - stateMetrics.efficiency;
            
            document.getElementById('livesSaved').textContent = livesSaved.toLocaleString();
            document.getElementById('costSavings').textContent = `$${costSavings.toLocaleString()}`;
            document.getElementById('healthImprovement').textContent = healthImprovement.toLocaleString();
            document.getElementById('efficiencyGain').textContent = `${efficiencyGain}%`;
        }

        calculateScenarioMetrics(scenario) {
            const originalScenario = this.currentScenario;
            const originalSystem = this.currentSystem;
            
            this.currentScenario = scenario;
            this.currentSystem = this.getScenarioSystem(scenario);
            
            const metrics = this.calculateMetrics();
            
            this.currentScenario = originalScenario;
            this.currentSystem = originalSystem;
            
            return metrics;
        }

        updateAlert(metrics) {
            const alert = document.getElementById('systemAlert');
            
            if (this.currentSystem === 'state') {
                alert.className = 'alert-banner';
                if (metrics.fatalities > 1800) {
                    alert.textContent = 'üö® CRITICAL: Government failures causing mass casualties';
                } else if (metrics.fatalities > 1400) {
                    alert.textContent = '‚ö†Ô∏è SEVERE: Government monopoly causing widespread harm';
                } else if (metrics.fatalities > 1000) {
                    alert.textContent = '‚ö†Ô∏è WARNING: Government monopoly reducing quality of life';
                } else {
                    alert.textContent = '‚ö†Ô∏è Government monopoly showing typical inefficiencies';
                }
            } else {
                alert.className = 'alert-banner success-banner';
                if (metrics.efficiency > 95) {
                    alert.textContent = 'üåü EXCEPTIONAL: Market delivering outstanding results';
                } else if (metrics.efficiency > 85) {
                    alert.textContent = '‚úÖ EXCELLENT: Market competition providing superior outcomes';
                } else if (metrics.efficiency > 75) {
                    alert.textContent = 'üìà GOOD: Market system outperforming government';
                } else {
                    alert.textContent = 'üíº Market system showing competitive advantages';
                }
            }
        }

        selectScenario(scenario) {
            this.currentScenario = scenario;
            this.currentSystem = this.getScenarioSystem(scenario);
            
            // Update UI - remove active class from all buttons
            document.querySelectorAll('.scenario-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to selected button
            const selectedButton = document.querySelector(`[data-scenario="${scenario}"]`);
            if (selectedButton) {
                selectedButton.classList.add('active');
            }
            
            this.updateDisplay();
        }

        startAnimations() {
            // Animate population health updates
            setInterval(() => {
                const metrics = this.calculateMetrics();
                this.updatePopulationHealth(metrics);
            }, 4000);
            
            // Animate building states
            setInterval(() => {
                this.updateVisualElements();
            }, 2000);
        }
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', () => {
        new IntegratedServiceSimulator();
    });
</script>
</body>
</html>